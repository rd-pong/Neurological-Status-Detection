/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 * File: NN_full.c
 *
 * MATLAB Coder version            : 4.3
 * C/C++ source code generated on  : 02-Sep-2020 17:13:45
 */

/* Include Files */
#include "NN_full.h"
#include <math.h>

/* Function Definitions */

/*
 * Arguments    : const double input_data[28]
 *                double Y[4]
 * Return Type  : void
 */
void NN_full(const double input_data[28], double Y[4])
{
  int k;
  double xp1[28];
  static const double dv[28] = { -0.824769756919744, -0.819976042969736,
    -1.70999023407952, -1.43998046815112, -1.0526900285858, -1.05003723258287,
    -4.06997238075402, -1.69996124148957, -1.14206277148681, -1.01999633777675,
    -2.20997085482274, -2.29994506668119, 24.9333793653043, 25.100093081339,
    24.9000366220974, -1.19998168889358, 0.0142092895799671, 0.0160004272591366,
    0.0, -7.50890102847084, 80.0002136295175, 80.0002136295175, 80.0002136295175,
    -15.9998779259523, 48.5002975555488, 49.0004119999602, 48.0001831111374,
    -36.9994659261463 };

  static const double dv1[28] = { 0.998119037853208, 0.523566128146517,
    0.69443623945377, 0.638990034198243, 1.38152875796992, 0.706718597517416,
    0.501260973401298, 0.598813967496437, 0.978409229338132, 0.630919716107269,
    0.645169261436417, 0.471709589163294, 0.183839838415527, 0.183487805439876,
    0.183488447623576, 0.833346049573499, 0.221939994879772, 0.219035889270659,
    0.221951400615034, 0.139074791653139, 0.100001068158997, 0.100001068158997,
    0.100001068158997, 0.0869574448040891, 0.0233918942735431,
    0.0235295258136906, 0.023255863469856, 0.0243906887073402 };

  double b[4];
  double d;
  int i;
  double b_b[10];
  static const double a[10] = { -1.5974337087964272, -1.1863863496443674,
    0.6794404380266742, -0.39191996575197907, -0.21773669965110978,
    -0.12488204495859151, -0.42369612414074337, 0.94167579609613383,
    1.2116566883018518, 1.5670377591295479 };

  static const double b_a[280] = { 0.31145879964794526, 0.30599868815363712,
    -0.4969439606224953, 0.32805325303806848, -0.01596578168529577,
    -0.27561558150318521, -0.24801961608147485, 0.026408838704352875,
    0.35137874236289585, 0.48788762688580728, -0.30150489310231965,
    0.38265337059281307, 0.50418325071561754, -0.10459658395443874,
    0.20453620583893292, -0.29103660057708336, -0.11712200691478857,
    0.41669751349898393, 0.21893813541497664, 0.44910584525324304,
    0.13145604010691508, -0.44547870583988136, 0.28913536915689514,
    0.40205776112892633, 0.073276935471485144, 0.29984860311827827,
    0.30579993860160848, -0.11450284141898977, 0.089387474581003032,
    -0.29643441281681249, 0.2061606179827091, -0.41618914195882034,
    -0.22349835130774273, -0.43940141489795354, -0.34870162115109288,
    0.28408576096604649, 0.22159939461802394, -0.21189581376153038,
    0.49318593625376972, -0.466078945852878, -0.020048248834872953,
    -0.12556789422448789, 0.30268861498076405, 0.22002218508830007,
    -0.29103387130330383, -0.040676462591459392, -0.070273932842281131,
    0.1261173657417525, 0.21801282614288925, 0.21829603551188789,
    -0.16311066218727435, 0.13794309105108538, 0.22818086234697257,
    -0.412568409870379, -0.34507811717161546, -0.027786892861308171,
    0.5029029921927487, -0.2493121768205161, 0.0635889230004197,
    -0.31285949483414832, 0.19473269740819929, -0.21751884681934378,
    -0.10908884860094638, 0.26990048245837395, 0.32141470484702639,
    0.43683594338602022, 0.11672243816661743, -0.34401015779565797,
    -0.34791790302942505, -0.21328910521964511, 0.33471648180852903,
    -0.22171405713551776, 0.33589097858025552, -0.24306171671884538,
    0.38218369577964195, -0.13867150448230117, -0.35021320218820634,
    -0.28078109268876839, 0.12588177976440404, -0.026056811340577784,
    -0.12484158824515119, 0.28434315680158723, 0.19190012612908866,
    -0.019659830526034844, 0.39537304498406606, -0.093600871447947029,
    0.2078500556165459, 0.21016701211142819, -0.20605178499563914,
    0.094335171279471511, -0.37318923332477555, -0.42281469060444332,
    0.13824787636298122, 0.18134351054658529, 0.40486695592532007,
    -0.28830480076548376, -0.00034418147613699229, -0.12284809332142803,
    -0.59254737248812084, -0.16433581398868, -0.34457135006035977,
    0.26762012886269249, -0.16326646101626324, 0.01690535061988525,
    -0.2815862576056693, 0.17381197034105267, -0.32482330559851258,
    0.15020655393395801, 0.16558351566926946, 0.28097467744619431,
    -0.056325964068201062, -0.36916654001274707, -0.306214770695167,
    0.4081445690747133, -0.30903021283457982, 0.29530028103653394,
    0.051541625921804377, 0.57586680863466921, -0.4484869796056094,
    -0.053209622923377164, -0.39024828662393529, 0.38793445772527646,
    -0.54346431896204672, 0.28616769498890315, 0.2660629771019738,
    0.42004846370596249, -0.50375894503054841, -0.13289896038175145,
    -0.2842550713046193, 0.33315215200356263, -0.06810704249759926,
    0.3416110742313011, -0.3490922110679619, -0.20984371796884357,
    -0.33342186488837894, -0.24948262031232535, 0.40981131207003652,
    0.071566999221339633, 0.028899105986264578, -0.31841167129878328,
    0.34815111033524149, 0.080718421353123154, -0.16704832197460259,
    0.032207592505232419, -0.10492995936172408, -0.30359009727184522,
    -0.32318194582853954, -0.450338124639183, -0.36662707377609488,
    -0.22357254544401556, -0.076621115796681488, -0.4072355493576284,
    0.43514748333646847, 0.42295214674589304, -0.010326816162150105,
    -0.007639821316444001, -0.19129223468272824, 0.4508753213752103,
    -0.14350448581644368, -0.38586481506417003, 0.33697855671849497,
    -0.129704152888996, -0.060726213107055567, -0.16207127816059105,
    -0.34406498505180377, -0.20192397107800178, 0.38269390777319606,
    0.41893928109556705, 0.0048414990659411709, -0.383124335562056,
    -0.20218417592372515, -0.16361891965594774, 0.56430336509924772,
    -0.53748604395885657, -0.39398031257486993, -0.16899471550192335,
    0.042860132620989359, 0.1624781677292107, 0.081908247913588139,
    0.0047931914526067286, 0.10648481731974063, -0.21194372130801875,
    0.48529789509766685, -0.3700323880992395, 0.18559791619727528,
    -0.15870537308504903, -0.28489282581226527, 0.041079986359164461,
    0.22910369423732224, -0.36344738223979434, 0.42066697444349455,
    0.24927253534875266, -0.020069130570262054, -0.056998503011280739,
    -0.048752636675532389, -0.1738026586434803, 0.012423594970876419,
    0.016234702508517145, 0.34538813652445871, 0.29515379263733832,
    0.092551893243539893, -0.1032367038890966, 0.23959271323634493,
    0.091870295331945837, -0.15360526414751907, 0.41635354130171043,
    0.49229921326734566, 0.11409837533051921, 0.14716259029056353,
    0.11329854519911993, -0.34001917815689908, -0.17364812832360668,
    -0.13351220623679744, -0.19742317233136875, 0.28564283939547763,
    -0.26214902485754776, -0.26332433986888693, -0.31850104008762187,
    -0.28025779306317822, -0.036343198651424963, -0.23545895511267792,
    0.38975496924575054, -0.17022659204909085, -0.24697069034156552,
    0.34288246111836074, 0.45301298904500903, -0.018891707277553006,
    -0.39019713355422342, -0.24725382177457556, -0.064434936452705455,
    0.063596919829098417, -0.21608342331527952, 0.04668915891328923,
    0.2486042856479892, -0.26743982714402648, -0.3322146410590725,
    -0.20466017356674951, -0.16979233621166023, -0.070138248304794246,
    0.026328361448102883, -0.37697539822811954, -0.22029684387776044,
    0.24300846291666295, -0.4816151067868269, 0.33103657893318772,
    0.11879543843533236, 0.0431111900026979, 0.097847227339226767,
    -0.27942658958706, -0.08486401008916894, 0.48813501518599289,
    0.036177387594483766, -0.066261483854403919, -0.28293765759815442,
    -0.06468152840561131, 0.021379231371292867, 0.26904559975522907,
    -0.10866721979064189, -0.1387920896238872, 0.44104555028574793,
    -0.42223066160492989, 0.3428990129045586, 0.37031448875454831,
    0.25600839581792018, -0.4079361462299097, -0.30775322273189787,
    -0.1393502515519183, 0.21063421548583089, -0.38863825537465368,
    0.17543452167792786, -0.37851688181493881, 0.13868998997251533,
    0.010827578396988979, 0.25608250710385294, 0.19590187591092503,
    0.36662449099560063, 0.44689208095095584, -0.20159790761304736,
    0.21032818484140092, -0.30447606665710431 };

  static const double c_a[40] = { -0.9485527057415224, 0.65611906459621272,
    0.013795621667885399, -0.18975136708410628, 0.75359594204238411,
    0.3936841698137582, 0.22781137230196585, 0.58544799961684246,
    0.54860257577586236, 0.18832192052759239, -0.5539193719080544,
    -0.579423421695234, 0.75630261097122653, -1.0266638310188279,
    0.0027281070788586917, -0.51486687531040942, 0.95832629475365094,
    0.316755972155023, -0.023495692181200928, 0.091595508876690657,
    -0.794602692881848, 0.21097916434096595, -0.79038418313426884,
    -0.69235087785382432, 0.025493959845313253, -0.62091983687250385,
    0.64707113065732191, 0.48077021988755858, 0.384127084189685,
    -0.59927159798665874, 0.17273022679301092, -0.044494179116090583,
    0.9147898184866089, 0.18200780079063136, 0.48655250931443556,
    -0.011160741913055683, -0.13511114358410983, 0.43405993633559581,
    -0.79884612688282086, -0.5408099589447376 };

  /* NN_MODEL neural network simulation function. */
  /*  */
  /*  Auto-generated by MATLAB, 02-Sep-2020 17:11:07. */
  /*   */
  /*  [y1] = NN_model(x1) takes these arguments: */
  /*    x = 28xQ matrix, input #1 */
  /*  and returns: */
  /*    y = 4xQ matrix, output #1 */
  /*  where Q is the number of samples. */
  /*  ===== NEURAL NETWORK CONSTANTS ===== */
  /*  Input 1 */
  /*  Layer 1 */
  /*  Layer 2 */
  /*  Output 1 */
  /*  ===== SIMULATION ======== */
  /*  Dimensions */
  /*  samples */
  /*  Input 1 */
  /*  ===== MODULE FUNCTIONS ======== */
  /*  Map Minimum and Maximum Input Processing Function */
  for (k = 0; k < 28; k++) {
    xp1[k] = (input_data[k] - dv[k]) * dv1[k] + -1.0;
  }

  /*  Layer 1 */
  /*  Sigmoid Symmetric Transfer Function */
  /*  Layer 2 */
  b[0] = -0.63730465587219676;
  b[1] = -0.44945579920280448;
  b[2] = 0.649213027581742;
  b[3] = 0.79159086693535619;
  for (k = 0; k < 10; k++) {
    d = 0.0;
    for (i = 0; i < 28; i++) {
      d += b_a[k + 10 * i] * xp1[i];
    }

    b_b[k] = 2.0 / (exp(-2.0 * (a[k] + d)) + 1.0) - 1.0;
  }

  /*  Output 1 */
  /*  Map Minimum and Maximum Output Reverse-Processing Function */
  for (k = 0; k < 4; k++) {
    d = 0.0;
    for (i = 0; i < 10; i++) {
      d += c_a[k + (i << 2)] * b_b[i];
    }

    d = ((b[k] + d) - -1.0) / 2.0;
    b[k] = d;
    Y[k] = d;
  }
}

/*
 * File trailer for NN_full.c
 *
 * [EOF]
 */
